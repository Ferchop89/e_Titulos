<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

class SelloController extends Controller
{
   public function sendingInfo()
   {
      $url = "https://condoc.dgae.unam.mx/registroTitulos/request/firma";
      // $datos = "||1.0|3|MUOC810214HCHRCR00|Director de Articulación de Procesos|SECRETARÍA DE EDUCACIÓN|Departamento de Control Escolar|23DPR0749T|005|23|TSEP180817HRECTR|EDGAR|SORIANO|SANCHEZ|2|7.8|2017-01-01T12:05:00||";
      // $datos = "||1.0|201800001|TSEP180817HRECTR00|3|RECTOR|DR.|090001|UNIVERSIDAD NACIONAL AUTÓNOMA DE MÉXICO|103601|DOCTORADO EN CIENCIAS (BIOLOGÍA)|1979/01/01|2000/01/01|8|DECRETO DE CREACIÓN||SELIL890909FDFRL10|LUZ MARIA GRACIELA|Serrano|LIMON|biologia@gmail.com|2000-12-14|01|POR TESIS|2000-09-12|2000-09-12|1|2|ART. 55 LRART. 5 CONST|09|CIUDAD DE MÉXICO|FACULTAD DE CIENCIAS|1|MAESTRÍA|09|CIUDAD DE MÉXICO|1976/01/01|1978/01/01||";
      // $curp = "TSEP180817HRECTR00";

      // $datos = "||1.0|201800001|TSEP180817HSECRE00|6|SECRETARIO GENERAL|DR.|090001|UNIVERSIDAD NACIONAL AUTÓNOMA DE MÉXICO|103601|DOCTORADO EN CIENCIAS (BIOLOGÍA)|1979/01/01|2000/01/01|8|DECRETO DE CREACIÓN||SELIL890909FDFRL10|LUZ MARIA GRACIELA|Serrano|LIMON|biologia@gmail.com|2000-12-14|01|POR TESIS|2000-09-12|2000-09-12|1|2|ART. 55 LRART. 5 CONST|09|CIUDAD DE MÉXICO|FACULTAD DE CIENCIAS|1|MAESTRÍA|09|CIUDAD DE MÉXICO|1976/01/01|1978/01/01||";
      // $curp = "TSEP180817HSECRE00";

      $datos = "||1.0|201800001|TSEP180817HDGRAL00|9|DIRECTOR GENERAL|MTRA.|090001|UNIVERSIDAD NACIONAL AUTÓNOMA DE MÉXICO|103601|DOCTORADO EN CIENCIAS (BIOLOGÍA)|1979/01/01|2000/01/01|8|DECRETO DE CREACIÓN||SELIL890909FDFRL10|LUZ MARIA GRACIELA|Serrano|LIMON|biologia@gmail.com|2000-12-14|01|POR TESIS|2000-09-12|2000-09-12|1|2|ART. 55 LRART. 5 CONST|09|CIUDAD DE MÉXICO|FACULTAD DE CIENCIAS|1|MAESTRÍA|09|CIUDAD DE MÉXICO|1976/01/01|1978/01/01||";
      $curp = "TSEP180817HDGRAL00";
      return view('/menus/sendingCadena', compact('url', 'datos', 'curp'));
   }

























   public function verifySignature()
   {
      $url = "https://condoc.dgae.unam.mx/registroTitulos/verify/firma";

      $datos = "||1.0|3|MUOC810214HCHRCR00|Director de Articulación de Procesos|SECRETARÍA DE EDUCACIÓN|Departamento de Control Escolar|23DPR0749T|005|23|TSEP180817HRECTR|EDGAR|SORIANO|SANCHEZ|2|7.8|2017-01-01T12:05:00||";

      $pkcs7 = "-----BEGIN PKCS7-----MIAGCSqGSIb3DQEHAqCAMIACAQExDzANBglghkgBZQMEAgEFADCABgkqhkiG9w0BBwGggCSABCD3BSD85zquNhkVaK3mwFp/+9WRIrTetXaePhZr/dPOsAAAAAAAAKCAMIIGgTCCBGmgAwIBAgIIPHl2ulTsFzMwDQYJKoZIhvcNAQELBQAwgZ8xIjAgBgkqhkiG9w0BCQEWE2R1ZGFzX2Zpcm1hQHVuYW0ubXgxKzApBgNVBAMMIkF1dG9yaWRhZCBDZXJ0aWZpY2Fkb3JhIEFDVU5BTUNGRVUxMDAuBgNVBAsMJ1VuaXZlcnNpZGFkIE5hY2lvbmFsIEF1dG9ub21hIGRlIE1leGljbzENMAsGA1UECgwEVU5BTTELMAkGA1UEBhMCTVgwHhcNMTgwODE3MjAyODM1WhcNMjIwODE3MjAyODM1WjByMRswGQYDVQQDDBJUU0VQMTgwODE3SFJFQ1RSMDAxDzANBgNVBCoMBlJFQ1RPUjEUMBIGA1UEBAwLRkVVIFBSVUVCQVMxDTALBgNVBAsMBFVOQU0xEDAOBgNVBAoMB0NBIFVOQU0xCzAJBgNVBAYTAk1YMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5gt6QjV0GTk6IEgR8JhESNA82GuyHt6UgGwcdlzmjX4vathA2te3F9HtyklZBAyGsWq5SmogedbwYLmo1J20JSdingqlblJleopYvYmHEkq5bE71NICxPNYK16qwqPtmHGFRtOWH1s9gumm5FmdjG0t9j6ZKIk+rgsOgnZgCj7GCoNBn5NNTEeBpnVmwJssGp1UHDXdrU9R/QuRBDs2MCv/HyvHkABpcDg9uyTW1tH4o8fDk3rVv603w84IJaQOS8mXRHdF2m6vxgLPPo+av/ZntohXOO1Abdh57oJgFaPcCYWO8GTvThPVfyBzWG8Q88zm1mpJct5YRYOerfjmkPwIDAQABo4IB6zCCAecwWgYIKwYBBQUHAQEETjBMMEoGCCsGAQUFBzABhj5odHRwOi8vY29uc3VsdGFBQ0NGRVUtT0NTUC51bmFtLm14L2VqYmNhL3B1YmxpY3dlYi9zdGF0dXMvb2NzcDAdBgNVHQ4EFgQUCw8VTABw9mC4pe3oypK/6dMGJNcwDAYDVR0TAQH/BAIwADAfBgNVHSMEGDAWgBTLhDXJeb8Q6f8frv24z6ltHPuWOzCB5wYDVR0fBIHfMIHcMIHZoIHWoIHThoHQaHR0cDovL2NvbnN1bHRhQUNDRkVVLUNSTC51bmFtLm14L2VqYmNhL3B1YmxpY3dlYi93ZWJkaXN0L2NlcnRkaXN0P2NtZD1jcmwmaXNzdWVyPUU9ZHVkYXNfZmlybWFAdW5hbS5teCxDTj1BdXRvcmlkYWQlMjBDZXJ0aWZpY2Fkb3JhJTIwQUNVTkFNQ0ZFVSxPVT1Vbml2ZXJzaWRhZCUyME5hY2lvbmFsJTIwQXV0b25vbWElMjBkZSUyME1leGljbyxPPVVOQU0sQz1NWDAOBgNVHQ8BAf8EBAMCBPAwHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMEMCIGA1UdEQQbMBmBF2R1ZGFzX2Zpcm1hQGhvdG1haWwuY29tMA0GCSqGSIb3DQEBCwUAA4ICAQBGiYfZoFXGWs1REfXb0yLV1gu0XCDlvv+TxNKsi/RVgkrxTBAYGNvtlvdbgCaF5NLt28OomNTSTJwP+FzEBp4LT8bt/o6N65U6c8JtVZNe9CMJvEzOVkMZhzkgWeXACiB526b/gJunimQ4WRx3va/nHB8YbwI1wUkwDYoSUEt59KD9qAahglQdONMkVlSfU/HUKl3ZcozKMgoeoDqlR4xnR+0NwXNYj3sEXMTIyhtqtJR4qPs09Jmyh1MTo5WQ8fuj3GfAQ6a5XBOuYagZRsHQpzlDQEElkxWekPH+WoozQ9Gueri8qPjEqXgR9TcqMccNDt0I/NLaPu+oP4ZQ8LROK8MOZ2if24576mqpNdx4Z584CSIx4kEK9WSycb2dDlMnEBA87OFQlXL3p2AIohuJ4g1iZYi26W/6NCex57S98bS9IeypCgqM+VR4gHzYAO4T2CIA4ZJR8xrGr1Na0AiBriiLZ9Pa/YskQ6dH5dTqbmGy93G75DS7hB8bEI4vZOMKFwOF3zoed9LRgq+UGzSI24q9ZqpfkPslUhgbTxbhoCmzqkCfmcxb5V6xr0jjy4Ta9gPSwX+n3AKAcw6HRnCDolt34VbI7rHF/vbSX+2gdqG4Uuy4woBy/RPYwAOS0b3Dt9QtfjOmXBL494yxwvj2rmpc3DRAGO2JNdH53Pky8AAAMYICQzCCAj8CAQEwgawwgZ8xIjAgBgkqhkiG9w0BCQEWE2R1ZGFzX2Zpcm1hQHVuYW0ubXgxKzApBgNVBAMMIkF1dG9yaWRhZCBDZXJ0aWZpY2Fkb3JhIEFDVU5BTUNGRVUxMDAuBgNVBAsMJ1VuaXZlcnNpZGFkIE5hY2lvbmFsIEF1dG9ub21hIGRlIE1leGljbzENMAsGA1UECgwEVU5BTTELMAkGA1UEBhMCTVgCCDx5drpU7BczMA0GCWCGSAFlAwQCAQUAoGkwGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTgwOTEyMDAwODA2WjAvBgkqhkiG9w0BCQQxIgQg5Wak8/8cFiFdW9siL8Y4eJCzNhr8Z19Ds9o5tkLGv4IwDQYJKoZIhvcNAQEBBQAEggEA18k0narGRt8aGmyXLcwD5CMWCjad5rI/A9SGBGNb4zSphHAzPPj0JbKx/KyIhGOunfPG3XnFfFkjLEKy5k+MyHAbCjfDrAyW4dFq1NSobV+Zq2cNwgoLGAjgWQ7B329SrwB3+JlG1IPy+TgxLgb42MjLJrHMXNf0KSXU3GEnnvtyIgMyoC7J6AUfYUlff0To0ShHv+cBQs0ujGNhzOnDPyzET6HUn7Xbql1IAF6t9MvO2tQaElSbVXbb+dEmC53wxkNyXcUbPlXbtNtCjzwRc/eLyefz/tDoZXDrLSVU3c1WBPIXkCY7HmoMrrA88T9tStgyc0TklhXsqj7sYLYn/wAAAAAAAA==-----END PKCS7-----";

         $data = '{
         	"listaPkcs7": ["'.$pkcs7.'"],
         	"listaDatos": ["'.$datos.'"]
         }';

         $info = json_decode($data);

         return view('/menus/verifySignature', compact('info'));
   }
}
